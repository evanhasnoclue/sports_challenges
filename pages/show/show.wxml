
<view class='container'>
  <view class='banner' style="background-image: linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.3)), url('{{clickChallenge.photo}}')">
    <view class='font-bold font-title font-white'>{{clickChallenge.category}}</view>
  </view>
  <view class='shopping'>
     
  </view>
  <view class='event-info'>
    <!-- <view class='category-row'>
      <view class='font-content font-bold font-primary tag-border'>{{sport.category}}</view>
    </view> -->
    <view class='event-intro card-shadow padding-left'>
      <view class='row-title'>
        <view class='font-title font-bold' style="width: 80%;">{{clickChallenge.name}}</view>
        <image bindtap='checkUser' data-id='{{sport.user.id}}' src='{{sport.user.avatarUrl}}' class='avatar avatar-small' />
      </view>
      <view class='row-price'>
        <view class='font-title font-bold font-primary'>RMB {{sport.price}}/person</view>
      </view>
      <view class='row-location' bindtap='showMap'>
        <image src='../../images/map1.png' class='icon icon-margin' />
        <view class='font-content font-grey address-width'>{{clickChallenge.location}}</view>
      </view>
      <view class='row-time  border-bottom'>
        <image src='../../images/time.png' class='icon icon-margin' />
        <view class='font-content font-grey'>{{clickChallenge.start_time}}-{{clickChallenge.end_time}}</view>
      </view>
      <view class='row-users'>
        <view class='capacity'>
          <view class='font-content'>{{sport.bookings.length}}/{{clickChallenge.capacity}}</view>
        </view>
        <scroll-view class='users' scroll-x>
          <block wx:for='{{sport.bookings}}' wx:key="booking.id" wx:for-item="booking">
            <image bindtap='checkUser' data-id='{{booking.user.id}}' src='{{booking.user.avatarUrl}}' class='avatar avatar-small' />
          </block>
        </scroll-view>
      </view>
    </view>
    <view class='row-description card-shadow padding-left'>
      <view class='font-title'>Description</view>
      <view class='font-content font-grey'>{{clickChallenge.description}}</view>
    </view>
  </view>
  <view class='bottom-fixed'>
  <view class='row-actions border-top'>
    <view class='icons'>
      <!-- <image src='../../images/favorite-grey.png' class='icon' />     -->
      <view class='icon-box' bindtap='bindHome'>
        <image src='../../images/home-grey.png' class='icon' />
        <view class='margin-kill font-content font-grey'>home</view>
      </view>
      <view class='icon-box' bindtap='bindLike'>
        <image src='../../images/heart-grey.png' class="icon {{liked ? 'hidden' : 'show'}}" />
        <image src='../../images/heart-primary.png' class="icon {{liked ? 'show' : 'hidden'}}" />
        <view class='margin-kill font-content font-grey'>{{sport.like}}</view>
      </view>
     
       <button class='share-btn margin-kill' open-type='share' >
        <view class='icon-box'>
        <image src='../../images/share-grey.png' class='icon' />
        <view class='margin-kill font-content font-grey'>share</view>
         </view>
        </button>

    </view>
    <view class='buttons'>
      <block wx:if='{{current_user_id!=sport.user.id}}'>
        <button wx:if='{{!booking}}' class='btn btn-small' bindtap='bookSports' open-type="getUserInfo" >Join</button>
        <button wx:if='{{booking}}' class='btn btn-small' bindtap='cancelBooking'>Cancel</button>
      </block>
      <button wx:if='{{current_user_id===sport.user.id}}' class='btn btn-small' bindtap='deleteSports'>Delete</button>
    </view>
  </view>
  </view>
</view>
